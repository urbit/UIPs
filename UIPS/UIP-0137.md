---
uip: "0137"
title: Urbit Tokenization and Planet Dispensing
description: A system for converting Urbit stars into fungible ERC20 tokens and redeeming planets
author: ~rolryx
status: Draft
type: Informational
category: Azimuth
created: 2026-01-28
---

## Abstract

This UIP introduces a system for converting Urbit stars into fungible ERC20 tokens, and a mechanism for using those tokens to redeem planets. Virgin stars are deposited into a vault to mint 65,535 $URBIT tokens (representing planets) and 1 $USTAR token (representing the star).

A separate dispenser contract allows these $URBIT tokens to be redeemed for planets. This contract functions by allowing whitelisted star operators to spawn planets from their stars at a fixed price of 1 $URBIT token, with pseudo-random planet selection to discourage vanity planet cherry-picking.

## Motivation

Today, there is no way to obtain an arbitrary Urbit planet directly on-chain. This greatly reduces the utility of Urbit as a general-purpose anonymous identity.

As a solution, this system lets anyone exchange a fungible token for a ready-to-use virgin planet, backed by a reliable sponsor and host.

## Specification

### Contract Overview

The system comprises four contracts:

1. **UrbitToken** ($URBIT): ERC20 token representing planets
2. **UstarToken** ($USTAR): ERC20 token representing stars
3. **UrbitVault**: Custodial vault for deposited stars, controls token minting/burning
4. **PlanetDispenser**: Mechanism for exchanging $URBIT tokens for planets

### UrbitToken

A standard ERC20 token with permit support (EIP-2612) for gasless approvals. Minting and burning is controlled exclusively by the UrbitVault contract.

**Token Properties:**

- Name: "URBIT"
- Symbol: "URBIT"
- Decimals: 18 (standard)
- Supply: Theoretical maximum ~4.28 billion

### UstarToken

Structurally identical to UrbitToken, representing stars.

**Token Properties:**

- Name: "USTAR"
- Symbol: "USTAR"
- Decimals: 18 (standard)
- Supply: Theoretical maximum 65,280

### UrbitVault

The vault accepts deposits of virgin Urbit stars and mints corresponding $URBIT and $USTAR tokens. It holds deposited stars in escrow until redeemed. Upon redemption, the required tokens are burned and the redeemer receives a star of their choosing from the vault.

**Virgin Star Requirements:**

A star qualifies as virgin if:

- `azimuth.hasBeenLinked(_starId)` returns false
- `azimuth.getSpawnProxy(_starId)` returns the zero address

These conditions ensure the star has never been used to boot a ship or spawn planets on Layer 2.

### PlanetDispenser

A dispenser contract where users spend $URBIT tokens to acquire planets from participating stars. Users only have a limited number of valid planet choices available to them at any given time, based on the current epoch. This enforcement of pseudo-randomness is intended to discourage hunting for vanity planet names.

**Configurable Parameters:**

- `epochSeconds`: Duration of each planet menu epoch (default: 30 minutes)
- `planetChoicesCount`: Number of planets offered per star per epoch (default: 16)

These parameters may be adjusted by the contract owner to reflect demand.

**Star Participation:**

Stars participate in the dispenser through two requirements:

1. **Whitelist**: The contract owner must add the star to the whitelist
2. **Spawn Proxy**: The star owner must set this contract as their spawn proxy

Participating stars are expected to be ready to both sponsor and host ships for onboarded users, with precise definitions of these service expectations decided through off-chain governance. The whitelist ensures that stars are pre-vetted to meet these requirements.

**Planet Selection Algorithm:**

To prevent cherry-picking of vanity planet names, the dispenser uses epoch-based pseudo-random selection:

1. Each epoch (default 30 minutes), a new set of `planetChoicesCount` planets becomes available per star
2. Planet selection uses deterministic randomness: `keccak256(starId, epoch, index)`
3. The pool uses swap-and-pop mechanics to ensure spawned planets are permanently removed from future selection

## Rationale

**Virgin Star Requirement**: This protects token holders from receiving a star with depleted planet pools, and also ensures the star has no existing activity or reputation on the network.

**Epoch-Based Planet Selection**: A rotating selection of planets per epoch provides user choice while limiting the ability to cherry-pick specific names. This could have been implemented at the UI level, but would be trivial to bypass by interacting with the contract directly.

**Separate Vault and Dispenser**: Spawning planets directly from vaulted stars was considered, but a separate dispenser mechanism ensures that every redeemed planet has an active sponsoring star.

**Governance**: While anyone can deploy a planet dispenser, the intent is that this one becomes the standard Urbit planet dispenser. Ownership is intended to be transferred to the Urbit Foundation as a long-term steward, with shared governance defining the responsibilities of participating stars.

## Backwards Compatibility

Azimuth/Ecliptic contracts remain unmodified.

## Copyright

Copyright and related rights waived via [CC0](../LICENSE.md).
